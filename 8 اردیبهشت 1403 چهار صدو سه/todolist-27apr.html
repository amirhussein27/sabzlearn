<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<title>Document</title>
	<style>
		body{
			text-align: center;
		}
		li{
			list-style-type: none;
			display: inline;

		}
	</style>
</head>
<body>
	<h1>to do list</h1>
	<input type="text" id="myinp">
	<button class="btn btn-primary" id="addtodo">add to list</button>
	<br>
	<button class="btn btn-danger" id="clearall">cearall</button>

	<hr>
<ul class="list-group" id="myul">
	<div id="container">
<!-- 
	<li class="list-group-item">javascript	<button id="complete" class="btn btn-success">complete</button>
	<button id="remove" class="btn btn-danger">remove</button>
</li>
<li class="list-group-item">javascript	<button id="complete2" class="btn btn-success">complete</button>
	<button id="remove" class="btn btn-danger">remove</button>
</li> -->
</ul>
</div>
<script>
	let items=[]
let clearall=document.getElementById("clearall")
let btncomplete=document.getElementsByClassName("btn btn-success")
let buttons=document.getElementsByTagName('button')
let myinp=document.getElementById("myinp")
let addtodo=document.getElementById("addtodo")
let myul=document.getElementById("myul")
let container=document.getElementById("container")

window.addEventListener('load',function(){
	let second=JSON.parse(localStorage.getItem('todos'))

	console.log(JSON.parse(localStorage.getItem('todos')).length)

	localStorage.getItem('todos')
	for(let i=0;i<second.length;i++){
		myul.insertAdjacentHTML('beforeend',`
	<li class="list-group-item">${second[i].name}	<button id="complete" class="btn btn-success" onclick="completed()">complete</button>
	<button id="remove" class="btn btn-danger" onclick="removeded()">remove</button>
</li>
	`)
}
	}
)

clearall.addEventListener('click',function(){
	localStorage.removeItem('todos')
let lis=document.querySelectorAll('.list-group-item')
for(let i=0;i<lis.length;i++)
lis[i].remove()
})
myul.style.textDecoration=""
addtodo.addEventListener('click',function(){
	if(myinp.value==''){
		alert('empty')
	}
	else{
		myul.insertAdjacentHTML('beforeend',`
	<li class="list-group-item">${myinp.value}	<button id="complete" class="btn btn-success" onclick="completed()">complete</button>
	<button id="remove" class="btn btn-danger" onclick="removeded()">remove</button>
</li>
	`)
let minpobj={
	id:items.length,
	name:myinp.value

}
// set to local storage 
items.push(minpobj)
localStorage.setItem('todos',JSON.stringify(items))
console.log(minpobj);
	myinp.value=''
	}


})
function completed(){
	let mine=event.target.parentElement

if(	mine.style.textDecoration!="line-through"){
	console.log(event.target);
	mine.style.textDecoration="line-through"
	mine.style.color="red"

}
	else{
	mine.style.textDecoration="none"
	mine.style.color="black"

	}

}

function removeded(){
	let mine=event.target.parentElement
console.log(mine.innerText);
	mine.remove(JSON.stringify(mine.innerText))
	// localStorage.removeItem(JSON.stringify(mine.textContent))

}
</script>
</body>
</html>